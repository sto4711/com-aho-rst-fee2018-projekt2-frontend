<div class="row">
  <app-breadcrumb></app-breadcrumb>
  <h2>{{'MY-ORDER' | translate}}</h2>
  <mat-vertical-stepper [linear]="isLinear" #stepper (selectionChange)="onSelectionChange($event)" >
    <mat-step [stepControl]="deliveryAddress">
      <ng-template matStepLabel>{{'DELIVERY-ADDRESS' | translate}}</ng-template>
      <form [formGroup]="deliveryAddress">
        <mat-form-field class="checkout-field">
          <input aria-label="name" matInput placeholder="{{'GIVEN-NAME' | translate}}" formControlName="givenname" required>
          <mat-icon matSuffix>face</mat-icon>
        </mat-form-field>
        <br>
        <mat-form-field class="checkout-field">
          <input aria-label="surname" matInput placeholder="{{'SURNAME' | translate}}" formControlName="surname" required>
          <mat-icon matSuffix>face</mat-icon>
        </mat-form-field>
        <br>
        <mat-form-field class="checkout-field">
          <input aria-label="street" matInput placeholder="{{'STREET-AND-HOUSE-NUMBER' | translate}}" formControlName="streetHousenumber"
                 required>
          <mat-icon matSuffix>home</mat-icon>

        </mat-form-field>
        <br>
        <mat-form-field class="checkout-field">
          <input aria-label="post code" matInput placeholder="{{'POST-CODE' | translate}}" maxlength="4" minlength="4"
                 formControlName="postCode" required>
          <mat-icon matSuffix>home</mat-icon>

        </mat-form-field>
        <br>
        <mat-form-field class="checkout-field">
          <input aria-label="city" matInput placeholder="{{'CITY' | translate}}" formControlName="city" required>
          <mat-icon matSuffix>home</mat-icon>

        </mat-form-field>
        <br>
        <div class="checkout-nav">
          <button mat-button matStepperNext class="matStepperNext">{{'NEXT' | translate}}</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="contactData">
      <ng-template matStepLabel>{{'CONTACT-DETAILS' | translate}}</ng-template>
      <form [formGroup]="contactData">
        <mat-form-field class="checkout-field">
          <input aria-label="email" matInput placeholder="{{'E-MAIL' | translate}}" formControlName="email" type="email" required>
          <mat-icon matSuffix>email </mat-icon>
        </mat-form-field>
        <br>
        <mat-form-field class="checkout-field">
          <input  aria-label="phone" matInput placeholder="{{'PHONE' | translate}} (+41 ....)" formControlName="phone" required>
          <mat-icon matSuffix>phone </mat-icon>
        </mat-form-field>
        <br>
        <div class="nav-wrap">
        <div class="checkout-nav">
          <button mat-button matStepperPrevious class="matStepperPrevious">{{'BACK' | translate}}</button>
          <button mat-button matStepperNext class="matStepperNext">{{'NEXT' | translate}}</button>
        </div>
        </div><!-- end .nav-wrap -->
      </form>
    </mat-step>

    <mat-step [stepControl]="deliveryType">
      <ng-template matStepLabel>{{'DELIVERY' | translate}}</ng-template>
      <form [formGroup]="deliveryType">
        <p>{{'WE-SHIP-EXCLUSIVELY-WITH-SWISS-POST' | translate}}.</p><br>
        <mat-radio-group formControlName="delivery" aria-label="delivery">
          <mat-radio-button value="PostPac Priority">PostPac Priority</mat-radio-button>
          <br>
          <mat-radio-button value="PostPac Economy">PostPac Economy</mat-radio-button>
          <br>
        </mat-radio-group>
        <br>
        <div class="nav-wrap">
        <div class="checkout-nav">
          <button mat-button matStepperPrevious class="matStepperPrevious">{{'BACK' | translate}}</button>
          <button mat-button matStepperNext class="matStepperNext">{{'NEXT' | translate}}</button>
        </div>
        </div><!-- end .nav-wrap -->
      </form>
    </mat-step>
    <mat-step [stepControl]="paymentType">
      <ng-template matStepLabel>{{'PAYING-WITH' | translate}}</ng-template>
      <form [formGroup]="paymentType">
        <mat-radio-group formControlName="payment" aria-label="payment">
          <mat-radio-button value="Paypal">Paypal</mat-radio-button>
          <br>
          <mat-radio-button value="Mastercard">Mastercard</mat-radio-button>
          <br>
          <mat-radio-button value="Visa">Visa</mat-radio-button>

        </mat-radio-group>
        <br>
        <div class="nav-wrap">
        <div class="checkout-nav">
          <button mat-button matStepperPrevious class="matStepperPrevious">{{'BACK' | translate}}</button>
          <button mat-button matStepperNext class="matStepperNext">{{'NEXT' | translate}}</button>
        </div>
      </div><!-- end .nav-wrap -->
      </form>
    </mat-step>
    <mat-step id="checkout-review">
      <ng-template matStepLabel>{{'OVERVIEW' | translate}}</ng-template>
      <div class="order-review">
        <br>
        <h4>{{'MY-ORDER-DATA' | translate}}</h4>
        <p><span>{{'GIVEN-NAME' | translate}}: </span>{{deliveryAddress.getRawValue().givenname}}</p>
        <p><span>{{'SURNAME' | translate}}: </span>{{deliveryAddress.getRawValue().surname}}</p>
        <p><span>{{'STREET' | translate}}: </span>{{deliveryAddress.getRawValue().streetHousenumber}}</p>
        <p><span>{{'POST-CODE' | translate}}: </span>{{deliveryAddress.getRawValue().postCode}}</p>
        <p><span>{{'CITY' | translate}}: </span>{{deliveryAddress.getRawValue().city}}</p>
        <br>
        <p><span>{{'E-MAIL' | translate}}: </span>{{contactData.getRawValue().email}}</p>
        <p><span>{{'PHONE' | translate}}: </span>{{contactData.getRawValue().phone}}</p>
        <br>
        <p><span>{{'DELIVERY' | translate}}: </span>{{deliveryType.getRawValue().delivery}}</p>
        <br>
        <p><span>{{'PAYING-WITH' | translate}}: </span>{{paymentType.getRawValue().payment}}</p>
        <br>
      </div>
      <div>
        <app-shopping-basket-listing [itemChangePossible]='itemChangePossible' [isCheckout]="true"></app-shopping-basket-listing>
      </div><!-- end article listing -->
      <div  class="cart-next-wrap">
        <div class="checkout-nav">
          <button mat-button matStepperPrevious class="matStepperPrevious">{{'BACK' | translate}}</button>
          <button mat-button (click)="stepper.reset()" class="matStepperReset">{{'RESET' | translate}}</button>
        </div>

        <form *ngIf="shoppingBasketService.shoppingBasket?.items.length>0" #fCreateOrder="ngForm" (ngSubmit)="approveOrder().then() ">
          <p>
            <button id="order-button" class="btn form-btn" type="submit"><i class="fas form-btn"></i>{{'ORDER-NOW' | translate}}</button>
          </p>
        </form>
      </div>
    </mat-step>


  </mat-vertical-stepper>
</div><!-- end .row -->
