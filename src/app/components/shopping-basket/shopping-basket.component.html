<div class="row">
  <app-breadcrumb></app-breadcrumb>

  <h2>Warenkorb</h2>
  <div *ngIf="shoppingBasketService.shoppingBasket?.items.length !==0">
    <div class="cart-items-listing">

      <table>
        <thead>
        <tr>
          <th>Nr</th>
          <th>Artikel</th>
          <th>Preis</th>
          <th>Anzahl</th>
          <th>Gesamtsumme</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let article of shoppingBasketService.shoppingBasket?.items">
          <td class="article-row">{{article.itemNumber}}</td>
          <td class="article-row">{{article.articleName}}</td>
          <td class="article-row">CHF {{article.articlePrice | amountConverter}}</td>
          <td class="article-row">
            <form id="add-to-chart">
              <button type="button" role="button" id="minus" name="articleMinus"
                      (click)="changeItemAmount_ShoppingBasket(article.articleID, article.articleName, article.articleAmount-1)">
                <img src="../assets/images/button-minus.gif" alt="button-minus" width="11" height="11"></button>
              <input disabled class="cart-article-amount" type="text" id="count" name="articleCount"
                     [(ngModel)]="article.articleAmount" #articleAmount="ngModel"/>
              <button id="plus" role="button" type="button" name="articlePlus"
                      (click)="changeItemAmount_ShoppingBasket(article.articleID, article.articleName, article.articleAmount+1)">
                <img src="../assets/images/button-plus.gif" alt="button-plus" width="11" height="11"></button>
            </form>

          </td>
          <td class="article-row ">CHF {{article.articlePriceSum | amountConverter}}
            <i class="fa fa-times" aria-hidden="true"
               (click)="confirmDelete(article.articleID, article.articleName)"></i>
          </td>
        </tr>


        </tbody>
        <tfoot>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td>
            <p><span class="result-text">Zwischensumme</span></p>
            <p><span class="result-text">Lieferkosten</span></p>
            <p><span class="result-text"><strong>Gesamtsumme</strong></span></p>
          </td>
          <td>

            <p *ngIf="shoppingBasketService.shoppingBasket?.totalSum">
              <span>CHF {{shoppingBasketService.shoppingBasket?.totalSum | amountConverter}}</span>
            </p>
            <p *ngIf="shoppingBasketService.shoppingBasket?.totalSum">
              <span>CHF 15.00</span>
            </p>
            <p *ngIf="shoppingBasketService.shoppingBasket?.totalSum">
              <strong><span>CHF {{shoppingBasketService.shoppingBasket.totalSum + 15 | amountConverter}}</span></strong>
            </p>
          </td>
        </tr>

        </tfoot>
      </table>
    </div><!-- end .cart-items-listing -->

    <div class="cart-next-wrap float-right">
      <form #fPay="ngForm" (ngSubmit)="pay(fPay.value)">
        <p>
          <button class="btn form-btn"><i class="fas fa-shopping-cart"></i>Zur Kasse</button>
        </p>
      </form>
      <p><a role="link" routerLink="/article-listing" class="continue-shopping">Weiter Einkaufen</a></p>
    </div>
    <a routerLink="/checkout">Tempor√§rer Link zum Checkout</a>
  </div>
  <p *ngIf="shoppingBasketService.shoppingBasket?.items.length ==0">
    <strong>Ihr Warenkorb ist leer.</strong><br>
    <a role="link" routerLink="/article-listing" class="continue-shopping">Hier</a> gehts zu unseren Artikeln.
  </p>
</div><!-- end .row -->
